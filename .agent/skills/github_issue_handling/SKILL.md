---
name: github_issue_handling
description: GitHub CLI (gh) を使用してイシューを作成する際の文字エスケープとプロトコル
---

# GitHub イシュー作成プロトコル

GitHub CLI (`gh`) を使用してコマンドラインからイシューを作成する際は、シェルの解釈による意図しない文字列の欠落を防ぐため、以下のルールを遵守する。

## 1. バッククォートの扱い

シェル（bash/zsh等）において、バッククォート (`` ` ``) はコマンド置換として解釈されます。イシューの本文やタイトルにコードブロック等の意味でバッククォートを含める場合は、必ず以下のいずれかの方法でエスケープまたは回避してください。

### 推奨：ヒアドキュメントの使用

`--body` 引数に直接長い文字列を渡すのではなく、標準入力またはヒアドキュメントを使用します。これにより、クォートによる囲みやエスケープの複雑さを回避できます。

```bash
gh issue create --title "タイトル" --label "bug" --body-file - <<EOF
## 概要
\`Hakodate\` のようにバッククォートを含めても安全です。
EOF
```

### バッククォートのエスケープ

ダブルクォート内の文字列として直接渡す場合は、バッククォートをバックスラッシュでエスケープします。

```bash
gh issue create --title "タイトル" --body "例：\`Hakodate\`"
```

## 2. 内容の精査と清書

ユーザーから提供された情報をそのまま投稿するのではなく、以下の構成で清書してください。

- **概要**: 何が起きているか（要約）
- **本来あるべき挙動**: 期待される動作
- **再現手順 / 発生している事象**: 具体的な例（バッククォートでのコード形式などを活用）

## 3. 自動実行の注意点

`gh` コマンドで引数に複雑な文字列を渡す際は、実行前にコマンドラインが正しく組み立てられているか、特に特殊文字（`$`, `` ` ``, `\`）が意図通りに扱われているかを慎重に確認してください。
